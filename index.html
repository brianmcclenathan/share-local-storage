<html><head>
    <script>
	    document.addEventListener('DOMContentLoaded', () => {
		window.setInterval(function(){
			const lastActionTimestamp = Date.now().toString();
			localStorage.setItem('lastActionTimestamp', lastActionTimestamp);
			window.parent.postMessage({lastActionTimestamp}, '*');
		}, 30000)
	}, false);
        window.addEventListener('storage', (event) => {
		console.log(event);
        	if (event.key === 'lastActionTimestamp') {
	            window.parent.postMessage({'lastActionTimestamp', event.newValue}, '*');
        	}
	}, false);;
	window.addEventListener("message", (event) => {
		console.log(event);
        	if (event.data.lastActionTimestamp) {
	            localStorage.setItem('lastActionTimestamp', event.data.lastActionTimestamp);
        	}
	}, false);
    </script>
</head>
<body></body>
</html>
